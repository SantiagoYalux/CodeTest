@using CodeTestTotal.ViewModel;
@model List<ListClientPetsViewModel>


<!-- The Modal (contains the Sign Up form) -->
<div id="id01" class="modal">

    <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">times;</span>
</div>
@*<partial name="_ListPets"></partial>*@

<section class="ListClients">

    @foreach (var a in Model)
    {
        <article class="card">
            <img src="/Images/img_avatar.png" alt="@a.clientName" style="width:100%">
            <div class="container">
                <h4 class="clientName"><b>@a.clientName</b></h4>
                <div class="buttonsContainer">

                    <a class="button Tarjeta-btnInfo" asp-controller="Order" asp-action="ListOrders" asp-route-ClientID="@a.clientID">Pedidos</a>
                    <input type="hidden" asp-for="@a.clientID">
                    <button class="button info" onclick="ShowContent(@a.clientID)" id="search">Mascotas(@a.pets.Count)</button>
                </div>
            </div>
        </article>
    }
</section>

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>

<script>
    var url = '@Url.Action("_ListPets","Client")';

    function ShowContent(id) {
        console.log(id)
        document.getElementById('id01').style.display = 'block'

        $('#id01').load(url, { clientID: id });
    }


    // Get the modal
    var modal = document.getElementById('id01');

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>




